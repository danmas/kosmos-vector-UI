# –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç–µ

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç (`docs/api-contract.yaml`).

## –û–±–∑–æ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `context-code` –¥–ª—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
### 2. –ù–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —à–∞–≥–∞ 1 pipeline
### 3. –ü–æ–ª–µ `report` –≤ —Å—Ç–∞—Ç—É—Å–µ —à–∞–≥–∞ pipeline
### 4. –ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–æ–≤
### 5. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞–≥–æ–≤ (–¥–æ 7)
### 6. –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (`/api/kb-config`)
### 7. –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ (`/api/project/tree`)
### 8. –ì–∏–±–∫–æ–µ –ø–æ–ª–µ `language` –±–µ–∑ –∂—ë—Å—Ç–∫–æ–≥–æ enum

---

## 1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä `context-code`

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2024-11-20

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π query-–ø–∞—Ä–∞–º–µ—Ç—Ä `context-code` –¥–ª—è –≤—Å–µ—Ö API –º–∞—Ä—à—Ä—É—Ç–æ–≤. –≠—Ç–æ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏ (–ø—Ä–æ–µ–∫—Ç–∞–º–∏).

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –í—Å–µ –º–∞—Ä—à—Ä—É—Ç—ã —Ç–µ–ø–µ—Ä—å —Ç—Ä–µ–±—É—é—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä `context-code` –≤ query string
- –ü–∞—Ä–∞–º–µ—Ç—Ä –≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ Express middleware
- –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ `400 Bad Request`

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```
GET /api/items?context-code=CARL
POST /api/pipeline/step/1/run?context-code=CARL
```

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** ‚ùå –¢—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤

---

## 2. –ú–∞—Ä—à—Ä—É—Ç –∑–∞–ø—É—Å–∫–∞ —à–∞–≥–∞ 1 pipeline

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2024-12-10

**–ù–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç:** `POST /api/pipeline/step/1/run`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ó–∞–ø—É—Å–∫–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —à–∞–≥–∞ 1 pipeline (Polyglot Parsing) –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ. –®–∞–≥ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç SQL-—Ñ–∞–π–ª—ã –∏ —Å—Ö–µ–º—ã —Ç–∞–±–ª–∏—Ü –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `context-code` (query, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π) ‚Äî –∫–æ–¥ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "message": "–®–∞–≥ 1 –∑–∞–ø—É—â–µ–Ω –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ",
  "step": {
    "id": 1,
    "name": "parsing",
    "status": "running",
    ...
  }
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ (fire-and-forget)
- –ë–ª–æ–∫–∏—Ä—É–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫, –µ—Å–ª–∏ —à–∞–≥ —É–∂–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è (—Å—Ç–∞—Ç—É—Å `running`) ‚Üí `409 Conflict`

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞:**
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `GET /api/pipeline/steps/status?context-code=CARL`

---

## 3. –ü–æ–ª–µ `report` –≤ —Å—Ç–∞—Ç—É—Å–µ —à–∞–≥–∞

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2024-12-12

**–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ `report` –≤ —Å—Ö–µ–º—É `PipelineStepStatus`. –°–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —à–∞–≥–∞ –ø–æ—Å–ª–µ –µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä –æ—Ç—á–µ—Ç–∞ –¥–ª—è —à–∞–≥–∞ 1:**
```json
{
  "summary": {
    "totalFiles": 5,
    "totalTables": 10,
    "totalFunctions": 25,
    "totalAiItems": 35,
    "totalChunks": 50,
    "errors": 2,
    "skipped": 1
  },
  "details": {
    "sqlFiles": [...],
    "tables": [...],
    "errors": [...]
  }
}
```

**–î–æ—Å—Ç—É–ø–Ω–æ:** —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ `completed` –∏–ª–∏ `failed`

---

## 4. –ú–∞—Ä—à—Ä—É—Ç—ã –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —à–∞–≥–æ–≤

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2024-12-15

**–ù–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
- `GET /api/pipeline/steps/history?context-code=CARL`
- `GET /api/pipeline/step/{id}/history?context-code=CARL`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞—é—Ç –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å—Ç–∞—Ç—É—Å–∞ —à–∞–≥–æ–≤ pipeline —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏, –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º –∏ –æ—Ç—á–µ—Ç–∞–º–∏.

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å—Ç–æ—Ä–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (—Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–µ—Å—Ç–∞—Ä—Ç–µ)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ `stepId` –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è `limit`

---

## 5. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞–≥–æ–≤

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2024-12-15

**–û–ø–∏—Å–∞–Ω–∏–µ:** –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤ pipeline —Ä–∞—Å—à–∏—Ä–µ–Ω–æ —Å 5 –¥–æ 7.

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ ID —à–∞–≥–æ–≤: 1, 2, 3, 4, 5, 6, 7
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ `PipelineStepStatus.id`

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** ‚úÖ

---

## 6. –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π (KnowledgeBaseConfig)

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2025-12-17

**–ù–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã:**
- `GET /api/kb-config?context-code=CARL` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `POST /api/kb-config?context-code=CARL` ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (—á–∞—Å—Ç–∏—á–Ω—ã–π –ø–∞—Ç—á)

**–û–ø–∏—Å–∞–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞:
- `rootPath` ‚Äî –∞–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- `includeMask` ‚Äî glob-–ø–∞—Ç—Ç–µ—Ä–Ω –≤–∫–ª—é—á–∞–µ–º—ã—Ö —Ñ–∞–π–ª–æ–≤
- `ignorePatterns` ‚Äî –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- `fileSelection` ‚Äî —Ç–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ –º–∞—Å–∫–æ–π)
- `metadata` ‚Äî –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
- `lastUpdated` ‚Äî –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è

**–•—Ä–∞–Ω–µ–Ω–∏–µ:** JSON-—Ñ–∞–π–ª—ã –≤ `./data/kb-configs/{context-code}.json`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç `fileSelection` –Ω–∞–¥ glob-–º–∞—Å–∫–∞–º–∏ (–ø–æ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ pipeline (–≤ —Ç.—á. —à–∞–≥ 1)

**–î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:**
```json
{
  "rootPath": "<project-root>/docs",
  "includeMask": "**/*.{sql,js,ts,tsx,py,java,go}",
  "ignorePatterns": "**/node_modules/**,**/venv/**,**/__pycache__/**,**/dist/**,**/.git/**,**/.cursor/**,**/.vscode/**,**/tests/**",
  "fileSelection": [],
  "metadata": { "projectName": "New Project" }
}
```

---

## 7. –ù–æ–≤–∞—è –º–æ–¥–µ–ª—å –¥–µ—Ä–µ–≤–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 2025-12-17

**–ù–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç:** `GET /api/project/tree?context-code=CARL`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–æ–µ –¥–µ—Ä–µ–≤–æ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –æ—Ç `rootPath` —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ —Å—Ö–µ–º–µ `ProjectFile`.

**–û—Ç–≤–µ—Ç:** –º–∞—Å—Å–∏–≤ –∫–æ—Ä–Ω–µ–≤—ã—Ö —É–∑–ª–æ–≤ (–¥–µ—Ç–∏ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏)

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `includeMask`, `ignorePatterns` –∏ `fileSelection` –∏–∑ `kb-config`
- –§–ª–∞–≥ `selected` —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
  - **–†–µ–∂–∏–º 1 (—Ç–æ—á–Ω—ã–π –≤—ã–±–æ—Ä)**: –ï—Å–ª–∏ `fileSelection` –Ω–µ –ø—É—Å—Ç–æ–π ‚Üí —Ñ–∞–π–ª—ã –∏–∑ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—É—á–∞—é—Ç `selected: true`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí `false`
  - **–†–µ–∂–∏–º 2 (glob-–º–∞—Å–∫–∏)**: –ï—Å–ª–∏ `fileSelection` –ø—É—Å—Ç–æ–π ‚Üí —Ñ–∞–π–ª—ã, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ `includeMask`, –ø–æ–ª—É—á–∞—é—Ç `selected: true`, –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Üí `false`
  - –í—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è `ignorePatterns` –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤
  - –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—É—á–∞—é—Ç `selected: true` –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –µ—Å—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–æ—Å—Ç—É–ø–∞ (permission denied ‚Üí `error: true`)
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞: –ø–∞–ø–∫–∏ —Å–≤–µ—Ä—Ö—É, –∑–∞—Ç–µ–º —Ñ–∞–π–ª—ã, –ø–æ –∏–º–µ–Ω–∏ –∞–ª—Ñ–∞–≤–∏—Ç–Ω–æ
- –ó–∞—â–∏—Ç–∞ –æ—Ç –≥–ª—É–±–æ–∫–æ–π —Ä–µ–∫—É—Ä—Å–∏–∏ (maxDepth = 20)
- –ü—É—Ç–∏ –≤—Å–µ–≥–¥–∞ —Å `./` –∏ `/` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è

**–ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è (v2.1.1):**
- –ú–∞—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è **–ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ** —Å –ø–æ–º–æ—â—å—é `minimatch` –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–ª–∏–∫–∞
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ `includeMask` –≤ UI ‚Äî —Ñ–∞–π–ª—ã —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–µ—Ä–µ–≤–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞
- –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `fileSelection` –∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ä–µ–∂–∏–º–∞: **üéØ –ü–æ –º–∞—Å–∫–µ** –∏–ª–∏ **‚úã –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä**
- **–ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º—ã–µ –ø–∞–ø–∫–∏ —Å—Ö–ª–æ–ø–Ω—É—Ç—ã**: –ü–∞–ø–∫–∏, –ø–æ–ø–∞–¥–∞—é—â–∏–µ –≤ `ignorePatterns` –∏–ª–∏ –±–∞–∑–æ–≤—ã–µ –∏–≥–Ω–æ—Ä—ã (`.cursor`, `.git`, `.vscode`, `node_modules` –∏ –¥—Ä.), –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–≤–µ—Ä–Ω—É—Ç—ã–º–∏ (collapsed) –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **–£–º–Ω—ã–µ –∏–≥–Ω–æ—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**: –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ `ignorePatterns` –≤–∫–ª—é—á–∞—é—Ç `**/.cursor/**`, `**/.git/**`, `**/.vscode/**`, `**/node_modules/**`, `**/venv/**`, `**/tests/**` –∏ –¥—Ä—É–≥–∏–µ —Å–ª—É–∂–µ–±–Ω—ã–µ –ø–∞–ø–∫–∏

**–£—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–∞—Ä—à—Ä—É—Ç:** `/api/files` ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `410 Gone`

---

## 8. –ì–∏–±–∫–æ–µ –ø–æ–ª–µ `language` (–≤–µ—Ä—Å–∏—è 2.1.2)

**–î–∞—Ç–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** 17 –¥–µ–∫–∞–±—Ä—è 2025

**–û–ø–∏—Å–∞–Ω–∏–µ:** –£–±—Ä–∞–Ω–æ –∂—ë—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ enum –¥–ª—è –ø–æ–ª—è `language` –≤ —Å—Ö–µ–º–∞—Ö `ProjectFile`, `AiItem`, `Language`.

**–ù–æ–≤–∞—è —Å—Ö–µ–º–∞ `Language`:**
```yaml
Language:
  type: string
  nullable: true
  description: –Ø–∑—ã–∫ –∫–æ–¥–∞, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω—ã–π –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: python, javascript, sql, markdown, unknown –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ)
  example: sql
```

**–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏ –Ω–∞ –±—ç–∫–µ–Ω–¥–µ (–ø—Ä–∏–º–µ—Ä):**
- `.sql` ‚Üí `sql`
- `.js/.ts/.tsx` ‚Üí `javascript` / `typescript`
- `.py` ‚Üí `python`
- `.java` ‚Üí `java`
- `.go` ‚Üí `go`
- `.md` ‚Üí `markdown`
- –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–µ ‚Üí `unknown`

**–ü—Ä–∏—á–∏–Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:** –ù–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ SQL –∏ –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–æ–≤ –±–µ–∑ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è enum.

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è API:** **2.1.2**

---

## –ú–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –î–æ–±–∞–≤–ª—è—Ç—å `context-code` –≤–æ –≤—Å–µ –∑–∞–ø—Ä–æ—Å—ã
2. –ü–µ—Ä–µ–π—Ç–∏ —Å `/api/files` –Ω–∞ `/api/project/tree`
3. –û–±–Ω–æ–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ –Ω–æ–≤–æ–º—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç—É (–≤–µ—Ä—Å–∏—è 2.1.2)

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/api/kb-config` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –ø—Ä–æ–µ–∫—Ç–∞
2. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –æ—Ç—á–µ—Ç—ã —á–µ—Ä–µ–∑ –Ω–æ–≤—ã–µ –ø–æ–ª—è –∏ –º–∞—Ä—à—Ä—É—Ç—ã

---

## –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è API:** **2.1.2** (17 –¥–µ–∫–∞–±—Ä—è 2025)

**Breaking changes:**
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π `context-code`
- –ó–∞–º–µ–Ω–∞ `/api/files` ‚Üí `/api/project/tree`

**Non-breaking changes:**
- –ù–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –ø–æ–ª—è
- –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —è–∑—ã–∫–æ–≤

---

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `docs/api-contract.yaml` ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç API
- `services/kbConfigService.js` ‚Äî —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏
- `routes/api.js` ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `data/kb-configs/` ‚Äî —Ö—Ä–∞–Ω–∏–ª–∏—â–µ JSON-–∫–æ–Ω—Ñ–∏–≥–æ–≤ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º

---

## –í–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º —Å API –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –∏–ª–∏ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
